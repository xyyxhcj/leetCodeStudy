<script>
    /*
        取最中间的两个数值的平均数作为中位数
        给定两个大小为 m 和 n 的有序数组 nums1 和 nums2。
        请你找出这两个有序数组的中位数，并且要求算法的时间复杂度为 O(log(m + n))。
        你可以假设 nums1 和 nums2 不会同时为空。
        https://leetcode-cn.com/problems/median-of-two-sorted-arrays

         * @param {number[]} nums1
         * @param {number[]} nums2
         * @return {number}
         */
    var findMedianSortedArrays = function (nums1, nums2) {
        // 根据两数组长度计算中位数后面有多少元素
        let total_len = nums1.length + nums2.length;
        let fetch_num = Math.floor((total_len - 1) / 2);
        // 获取最中间的第一个数
        for (let i = 0; i < fetch_num; i++) {
            popMax(nums1, nums2);
        }
        // 如果只有一个数直接返回，否则取两个数 返回平均数
        if (total_len % 2 === 1) {
            return popMax(nums1, nums2);
        } else {
            return 1.0 * (popMax(nums1, nums2) + popMax(nums1, nums2)) / 2;
        }
    };

    function popMax(nums1, nums2) {
        let num2_len = nums2.length;
        if (num2_len === 0 || nums1[nums1.length - 1] > nums2[num2_len - 1]) {
            return nums1.pop();
        } else {
            return nums2.pop();
        }
    }

    console.log(findMedianSortedArrays([1, 2], [3, 4]));
</script>
